<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>GAME 24</title>

<style>
:root{
  --bg:#0b0f1a;
  --card:#11162a;
  --accent:#00f6ff;
  --text:#e8f1ff;
}
body{
  margin:0;
  font-family:system-ui, sans-serif;
  background:var(--bg);
  color:var(--text);
  display:flex;
  justify-content:center;
}
.app{
  width:100%;
  max-width:420px;
  padding:16px;
}
h1{text-align:center;color:var(--accent)}
.panel{
  background:var(--card);
  border-radius:16px;
  padding:16px;
  margin-bottom:12px;
  box-shadow:0 0 20px #00f6ff33;
}
.nums button,.ops button,.ctrl button{
  font-size:20px;
  padding:14px;
  border-radius:12px;
  border:none;
  margin:6px;
  min-width:60px;
  background:#1b2340;
  color:white;
}
button.active{background:var(--accent);color:black}
button:disabled{opacity:.4}
.row{display:flex;flex-wrap:wrap;justify-content:center}
.status{text-align:center;margin-top:8px}
.neon{
  --bg:#020202;
  --card:#050505;
  --accent:#ff00ff;
}
</style>
</head>

<body>
<div class="app">
  <h1>GAME 24</h1>

  <div class="panel row nums" id="nums"></div>
  <div class="panel row ops">
    <button>+</button><button>-</button><button>√ó</button><button>√∑</button>
  </div>

  <div class="panel row ctrl">
    <button onclick="hint()">üß† Hint</button>
    <button onclick="solve()">üß© Solve</button>
    <button onclick="newGame()">üîÑ New</button>
    <button onclick="toggleTheme()">üé® Theme</button>
  </div>

  <div class="panel status" id="status">
    ‚è± <span id="time">0</span>s |
    üèÜ <span id="score">0</span>
  </div>
</div>

<audio id="winSound">
  <source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg">
</audio>

<script>
let nums=[],selected=null,score=0,time=0,timer,neon=false;

function newGame(){
  nums=[1,1,1,1].map(()=>Math.floor(Math.random()*9)+1);
  selected=null;
  render();
  time=0;
  clearInterval(timer);
  timer=setInterval(()=>{time++;timeEl.textContent=time},1000);
}
function render(){
  numsDiv.innerHTML="";
  nums.forEach((n,i)=>{
    let b=document.createElement("button");
    b.textContent=n;
    if(i===selected)b.classList.add("active");
    b.onclick=()=>selected=i;
    numsDiv.appendChild(b);
  });
}
function calc(op){
  if(selected===null||nums.length<2)return;
  let a=nums[selected];
  let b=nums.find((_,i)=>i!==selected);
  let bi=nums.findIndex((_,i)=>i!==selected);
  let r;
  if(op==="+")r=a+b;
  if(op==="-")r=a-b;
  if(op==="√ó")r=a*b;
  if(op==="√∑"&&b!==0)r=a/b;
  nums=[r,...nums.filter((_,i)=>i!==selected&&i!==bi)];
  selected=null;
  check();
  render();
}
function check(){
  if(nums.length===1){
    if(Math.abs(nums[0]-24)<0.01){
      score++;
      scoreEl.textContent=score;
      winSound.play();
      setTimeout(newGame,800);
    }
  }
}
function hint(){statusEl.textContent="üß† ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ √ó ‡∏´‡∏£‡∏∑‡∏≠ √∑ ‡∏Å‡πà‡∏≠‡∏ô"}
function solve(){statusEl.textContent="üß© ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: (a√ób)+(c‚àíd)"}
function toggleTheme(){
  neon=!neon;
  document.body.className=neon?"neon":"";
}

document.querySelectorAll(".ops button")
  .forEach(b=>b.onclick=()=>calc(b.textContent));

const numsDiv=document.getElementById("nums");
const timeEl=document.getElementById("time");
const scoreEl=document.getElementById("score");
const statusEl=document.getElementById("status");
const winSound=document.getElementById("winSound");

newGame();
</script>
</body>
</html>
